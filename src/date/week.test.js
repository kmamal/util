const { test } = require('@kmamal/testing')
const { calcWeek } = require('./week')
const { fromPartial } = require('./date')

test("date.calcWeek", (t) => {
	t.equal(calcWeek(fromPartial({ year: 1977, month: 1, day: 1 })), 53)
	t.equal(calcWeek(fromPartial({ year: 1977, month: 1, day: 2 })), 53)
	t.equal(calcWeek(fromPartial({ year: 1977, month: 12, day: 31 })), 52)
	t.equal(calcWeek(fromPartial({ year: 1978, month: 1, day: 1 })), 52)
	t.equal(calcWeek(fromPartial({ year: 1978, month: 1, day: 2 })), 1)
	t.equal(calcWeek(fromPartial({ year: 1978, month: 12, day: 31 })), 52)
	t.equal(calcWeek(fromPartial({ year: 1979, month: 1, day: 1 })), 1)
	t.equal(calcWeek(fromPartial({ year: 1979, month: 12, day: 30 })), 52)
	t.equal(calcWeek(fromPartial({ year: 1979, month: 12, day: 31 })), 1)
	t.equal(calcWeek(fromPartial({ year: 1980, month: 1, day: 1 })), 1)
	t.equal(calcWeek(fromPartial({ year: 1980, month: 12, day: 28 })), 52)
	t.equal(calcWeek(fromPartial({ year: 1980, month: 12, day: 29 })), 1)
	t.equal(calcWeek(fromPartial({ year: 1980, month: 12, day: 30 })), 1)
	t.equal(calcWeek(fromPartial({ year: 1980, month: 12, day: 31 })), 1)
	t.equal(calcWeek(fromPartial({ year: 1981, month: 1, day: 1 })), 1)
	t.equal(calcWeek(fromPartial({ year: 1981, month: 12, day: 31 })), 53)
	t.equal(calcWeek(fromPartial({ year: 1982, month: 1, day: 1 })), 53)
	t.equal(calcWeek(fromPartial({ year: 1982, month: 1, day: 2 })), 53)
	t.equal(calcWeek(fromPartial({ year: 1982, month: 1, day: 3 })), 53)
})
